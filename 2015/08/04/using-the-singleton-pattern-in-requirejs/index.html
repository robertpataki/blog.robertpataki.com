
<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />

	<title>Using the singleton pattern in RequireJS - Hello. Yes, this is blog.</title>
	
	<meta name="description" content="A very simple implementation of the singleton pattern in RequireJS (with examples)">
	
	<meta name="author" content="Robert Pataki" />
	<link rel="author" href="/humans.txt" />

	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	
	<link rel="canonical" href="https://blog.robertpataki.com/2015/08/04/using-the-singleton-pattern-in-requirejs/">
	<link href="/favicon.ico" rel="icon">

	<link rel="stylesheet" href="/stylesheets/style.css?v=3" />
	<link href="/atom.xml" rel="alternate" title="Hello. Yes, this is blog." type="application/atom+xml">

	<!-- Facebook -->
	<meta property="og:title" content="Using the singleton pattern in RequireJS - Hello. Yes, this is blog." />
	<meta property="og:description" content="A very simple implementation of the singleton pattern in RequireJS (with examples)" />
	<meta property="og:url" content="https://blog.robertpataki.com/2015/08/04/using-the-singleton-pattern-in-requirejs/" />
	<meta property="og:site_name" content="Hello. Yes, this is blog. - Robert Pataki's ramblings on vegan coding"/>
	<meta property="og:image" content="https://blog.robertpataki.com/images/posts/general-hero.png" />
</head>

<body  >
  	<header class="l-header header-contents">
	
		<nav class="subnav">
	<ul class="subnav_buttons">
		
		
		<li class="subnav_button subnav_button-prev">
			<a href="/2015/03/29/chunky-veg-soup/" title="Previous Post: Let's cook chunky veg soup">
				<svg viewBox="0 0 120 120" class="subnav_icon">
					<g>
						<polyline id="Right_Arrow" points="40.2,60.1 77,96.8 79.8,93.9 45.9,60 79.8,26.1 77,23.2"/>
					</g>
				</svg>
			</a>
		</li>
		
		
		<li class="subnav_button subnav_button-next">
			<a href="/2015/08/31/delicious-oven-baked-vegan-fasirt/" title="Previous Post: Delicious oven baked vegan fasirt">
				<svg viewBox="0 0 120 120" class="subnav_icon">
					<g>
						<polyline points="79.8,59.9 43,23.2 40.2,26.1 74.1,60 40.2,93.9 43,96.8"/>
					</g>
				</svg>
			</a>
		</li>
		

		<li class="subnav_button subnav_button-close">
			<a href="/">
				<svg viewBox="0 0 120 120" class="subnav_icon">
					<g>
						<rect x="58" y="10" transform="matrix(-0.7071 -0.7071 0.7071 -0.7071 60 144.8528)" width="4" height="100"/>
						<rect x="58" y="10" transform="matrix(0.7071 -0.7071 0.7071 0.7071 -24.8528 60)" width="4" height="100"/>
					</g>
				</svg>
			</a>
		</li>
	</ul>
</nav>
	
	<h1 id="title" class="banner"><a id="title-link" href="/">Hello. Yes, this is blog.</a></h1>
	
		<div class="subnav_button subnav_button-toggle">
			<svg viewBox="0 0 120 120" class="subnav_icon">
				<g id="Burger">
					<rect x="23" y="33" width="74" height="7"/>
					<rect x="23" y="56" width="74" height="7"/>
					<rect x="23" y="79" width="74" height="7"/>
				</g>
			</svg>
		</div>
	
</header>
<div class="header_placeholder"></div>



  	<div class="content_blocker"></div>

	<section id="main-container" class="l-main">
		    
    <div class="hero">
        <div class="hero_ratio"></div>
        <img class="hero_image" src="/images/posts/general-hero.png" />
    </div>
    

    <div  class="has-hero l-section" >
        <div id="content" class="l-contents">
            <div class="entry-title">	
	<h1 class="post-title">Using the Singleton Pattern in RequireJS</h1>
</div>
<div class="entry-content">
	
	  <p class="post-date">
	    







  


<time datetime="2015-08-04T09:17:07+01:00" pubdate data-updated="true" class="post-date"> 4/08/2015</time>
	    
	  </p>
	

	<p class="post-intro">Using the singleton pattern in your RequireJS app has its advantages, below is a very simple implementation, enjoy :)</p>




<div class="codeblock-terminal">
<div class='bogus-wrapper'><notextile><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>define([],
</span><span class='line'>
</span><span class='line'>    function() {
</span><span class='line'>
</span><span class='line'>        'use strict';
</span><span class='line'>    
</span><span class='line'>        var instance = null;
</span><span class='line'> 
</span><span class='line'>        function Singie() {
</span><span class='line'>            if(!!!instance){
</span><span class='line'>                this.initialize();
</span><span class='line'>                instance = this;
</span><span class='line'>            }
</span><span class='line'>            window.SINGIE = instance; // Good to have reference on window
</span><span class='line'>            return instance;
</span><span class='line'>        };
</span><span class='line'>
</span><span class='line'>        Singie.prototype = {
</span><span class='line'>            initialize: function() {
</span><span class='line'>                // Private vars
</span><span class='line'>                this._hello = 'Hello';
</span><span class='line'>
</span><span class='line'>                // Public methods
</span><span class='line'>                this.sayHello = function sayHello(name) {
</span><span class='line'>                    var n = name || 'Anonymous';
</span><span class='line'>                    console.log(this._hello + ' ' + n);
</span><span class='line'>                }
</span><span class='line'>            }
</span><span class='line'>        };
</span><span class='line'>
</span><span class='line'>        return Singie;
</span><span class='line'>    }
</span><span class='line'>);</span></code></pre></td></tr></table></div></figure></notextile></div>
</div>


<p>The above code lets you use one single instance of the &lsquo;Singie&rsquo; module, as it always will return its sole instance - no matter how many times you instantiate it.</p>

<p>An example of accessing the public methods of the singleton instance:</p>

<div class="codeblock-terminal">
<div class='bogus-wrapper'><notextile><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>var singie = new Singie();
</span><span class='line'>singie.sayHello('Foo');
</span><span class='line'>
</span><span class='line'>// Will put 'Hello Foo' in the console</span></code></pre></td></tr></table></div></figure></notextile></div>
</div>


<p>And here is a quick test to see if there is no cheekiness, and there is indeed only once instance existing:</p>

<div class="codeblock-terminal">
<div class='bogus-wrapper'><notextile><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>var singie = new Singie();
</span><span class='line'>var singieClone = new Singie();
</span><span class='line'>console.log(singie === singieClone);
</span><span class='line'>
</span><span class='line'>// Will put true in the console</span></code></pre></td></tr></table></div></figure></notextile></div>
</div>


<p>Having a reference on the &lsquo;window&rsquo; object can also come handy:</p>

<div class="codeblock-terminal">
<div class='bogus-wrapper'><notextile><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>var singie = new Singie();
</span><span class='line'>SINGIE.sayHello('Bar');
</span><span class='line'>
</span><span class='line'>// Will put 'Hello Bar' in the console</span></code></pre></td></tr></table></div></figure></notextile></div>
</div>


<p>That&rsquo;s all folks!</p>

</div>

            
            
            <div class="entry-comments">
                <div id="comments" class="clear">
                    <h2>Comments</h2>
                    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
                </div>
            </div>
            
        </div>
    </div>

	</section>

	<footer class="footer">
	<div class="l-container">
		<div class="footer_wrapper">
			<p class="footer_contents">Code, recipes and other stories written by <a href="https://robertpataki.com" title="Rob Pataki's digital portfolio">Rob Pataki</a> using <a href="https://octopress.org/2011/07/23/octopress-20-surfaces/" title="Octopress 2.0" target="_blank">Octopress 2.0</a></p>
		</div>
	</div>
</footer>


  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-19326313-17']);
    _gaq.push(['_trackPageview']);
    // _gaq.push(['_setDomainName','github.io']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>




<script type="text/javascript">
      var disqus_shortname = 'helloyesthisisblog';
      
        
        var disqus_developer = 1;
        var disqus_identifier = 'https://blog.robertpataki.com/2015/08/04/using-the-singleton-pattern-in-requirejs/';
        var disqus_url = 'https://blog.robertpataki.com/2015/08/04/using-the-singleton-pattern-in-requirejs/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'https://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>




  <script type="text/javascript" src="/javascripts/vendor/jquery-2.1.1.min.js"></script>
	<script type="text/javascript" src="/javascripts/vendor/fastclick.js"></script>
	<script type="text/javascript" src="/javascripts/vendor/TweenMax.min.js"></script>
	<script type="text/javascript" src="/javascripts/application.js"></script>
</body>
</html>
